# Collapsization RL Training Configuration
# Copy to .env and fill in your values
#
# RECOMMENDED: Use training_manager.py instead of deploy.py
# The training manager provides:
#   - Safe instance management (only destroys instances it created)
#   - State persistence (survives MacBook sleep/restart)
#   - Progress charts in terminal
#   - Automatic download and integrity verification
#
# Usage:
#   python training_manager.py              # Start/resume training
#   python training_manager.py status       # Check status
#   python training_manager.py download     # Download results
#   python training_manager.py destroy      # Destroy instance

# ─────────────────────────────────────────────────────────────────────────────
# VAST.AI Configuration (OPTIONAL if passveil is available)
# ─────────────────────────────────────────────────────────────────────────────

# Your VAST.AI API key (get from https://vast.ai/console/account/)
# If not set, will automatically try: passveil show vast.ai/api
# VAST_API_KEY=your_vast_api_key_here

# SSH key for connecting to instances (default: ~/.ssh/id_ed25519)
SSH_KEY_PATH=~/.ssh/id_ed25519

# ─────────────────────────────────────────────────────────────────────────────
# Training Configuration
# ─────────────────────────────────────────────────────────────────────────────

# Training phase: random, scripted, tabular, dqn, ppo
TRAINING_PHASE=ppo

# Number of training episodes
TRAINING_EPISODES=500000

# Population size for self-play (PPO only)
POPULATION_SIZE=5

# Checkpoint save frequency
SAVE_EVERY=50000

# ─────────────────────────────────────────────────────────────────────────────
# Instance Configuration (1xH100 for training)
# ─────────────────────────────────────────────────────────────────────────────

# GPU type: H100, H100_NVL, A100, RTX_4090, RTX_3090
# Using single H100 for cost-effective training
GPU_TYPE=H100

# Number of GPUs (use 1 to avoid conflicts with production servers)
NUM_GPUS=1

# Maximum price per hour (USD)
MAX_PRICE_PER_HOUR=3.50

# Minimum GPU RAM (GB) - H100 SXM has 80GB
MIN_GPU_RAM=80

# Minimum disk space (GB)
MIN_DISK=100

# Minimum system RAM (GB)
MIN_RAM=64

# ─────────────────────────────────────────────────────────────────────────────
# Mothership Reporting (OPTIONAL)
# ─────────────────────────────────────────────────────────────────────────────

# URL to POST training status updates (leave empty to disable)
# MOTHERSHIP_URL=https://your-server.com/api/training/report

# ─────────────────────────────────────────────────────────────────────────────
# Manual Instance Override (OPTIONAL)
# ─────────────────────────────────────────────────────────────────────────────
# If you already have an instance, set these to skip provisioning

# INSTANCE_ID=12345678
# SSH_HOST=ssh5.vast.ai
# SSH_PORT=12345

